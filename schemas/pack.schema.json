{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Automator Pack (generated by pack_writer)",
  "type": "object",
  "required": ["region", "profile", "generated_by", "audio_name", "inputs", "features", "features_full"],
  "properties": {
    "region": { "type": "string" },
    "profile": { "type": "string" },
    "generated_by": { "type": "string" },
    "audio_name": { "type": "string" },
    "inputs": {
      "type": "object",
      "required": ["paths", "merged_features_present", "lyric_axis_present", "internal_features_present"],
      "properties": {
        "paths": {
          "type": "object",
          "properties": {
            "source_audio": { "type": ["string", "null"] }
          },
          "additionalProperties": true
        },
        "merged_features_present": { "type": "boolean" },
        "lyric_axis_present": { "type": "boolean" },
        "internal_features_present": { "type": "boolean" }
      },
      "additionalProperties": true
    },
    "features": {
      "type": "object",
      "required": ["tempo_bpm", "key", "mode", "runtime_sec"],
      "properties": {
        "tempo_bpm": { "type": "number" },
        "key": { "type": "string" },
        "mode": { "type": ["string", "number"] },
        "runtime_sec": { "type": "number" },
        "loudness_LUFS": { "type": ["number", "null"] },
        "energy": { "type": ["number", "null"] },
        "danceability": { "type": ["number", "null"] },
        "valence": { "type": ["number", "null"] }
      },
      "additionalProperties": true
    },
    "features_full": {
      "type": "object",
      "required": ["bpm", "mode", "key", "duration_sec", "loudness_lufs"],
      "properties": {
        "bpm": { "type": "number" },
        "mode": { "type": ["string", "number"] },
        "key": { "type": "string" },
        "duration_sec": { "type": "number" },
        "loudness_lufs": { "type": "number" },
        "energy": { "type": ["number", "null"] },
        "danceability": { "type": ["number", "null"] },
        "valence": { "type": ["number", "null"] }
      },
      "additionalProperties": true
    },
    "lyric_axis": { "type": ["object", "null"] }
  },
  "additionalProperties": true
}
